# THIS FILE IS MANAGED VIA LITTLECHEF...
# YOU MIGHT LOOSE CHANGES...

# ENV['PORTAL_FEATURES'] : enable / disable portal extension features. Here are some such features:
#
# `geniverse_remote_auth`: Remote authentication
# `allow_cors`: Allow CORS requests (see below)
# `genigames_data`: Genigames-related student sata saving
# `geniverse_wordpress`: Geniverse-related Wordpress connection
# 
# sample :  NV['PORTAL_FEATURES']  ||= 'geniverse_remote_auth genigames_data'
# EG, enable genigame auth / data via `     ENV['PORTAL_FEATURES']  ||= 'geniverse_remote_auth genigames_data'

ENV['PORTAL_FEATURES'] ||= "<%= @portal_features %>"

# CORS_ORIGINS:
# Sets the allowed CORS origins to a specific whitelist. Requires ENV['PORTAL_FEATURES'] ||= 'allow_cors'
<% if @cors_origins && @cors_origins.size > 0 %>
ENV['CORS_ORIGINS']    ||= "<%= @cors_origins %>"
<% else %>
# ENV['CORS_ORIGINS']  ||= "*.concord.org"
<% end %>

# CORS_RESOURECES:
# Sets the allowed CORS resources to a specific route. Requires ENV['PORTAL_FEATURES'] ||= 'allow_cors'
<% if @cors_resources && @cors_resources.size > 0 %>
ENV['CORS_RESOURCES']    ||= "<%= @cors_resources %>"
<% else %>
# ENV['CORS_RESOURCES']  ||= "*.concord.org"
<% end %>
