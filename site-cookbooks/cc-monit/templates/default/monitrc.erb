# generated by chef (site-cookbooks/cc-monit)

# polling freq seconds
set daemon 20

# Logging
set logfile /var/log/monit.log

# Mail alerts
set alert all-portal-errors@concord.org
set mailserver email-smtp.us-east-1.amazonaws.com port 25
  USERNAME  <%= @mail['user'] %> PASSWORD <%= @mail['password'] %>
  using TLSV1
  with timeout 30 seconds


set mail-format {
  from: all-portal-errors@concord.org
  subject: MONIT TEST: $SERVICE $EVENT at $DATE
  message: Monit $ACTION $SERVICE at $DATE on $HOST,
Dutifully,
Monit

}


# Web interface
set httpd port 2812 and
  allow 63.138.0.0/255.255.0.0
  allow <%= @monit['user'] %>:<%= @monit['password'] %>

# Include config files
include /etc/monit/conf.d/*