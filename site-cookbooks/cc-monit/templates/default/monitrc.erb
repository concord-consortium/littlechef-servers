# generated by chef (site-cookbooks/cc-monit)

# polling freq seconds
set daemon 60

# Logging
set logfile /var/log/monit.log

# Mail alerts
set alert all-portal-errors@concord.org on {timeout}
set mailserver email-smtp.us-east-1.amazonaws.com port 25
  USERNAME  <%= @mail['user'] %> PASSWORD <%= @mail['password'] %>
  using TLSV1
  with timeout 30 seconds


set mail-format {
  from: monit@concord.org
  subject: MONIT: <%= @server_name %> $SERVICE $EVENT
  message: Monit <%= @server_name %>  $ACTION $SERVICE at $DATE
Dutifully,
Monit

}

# Web interface
# set httpd port 2812 and
#  allow localhost
#  allow 127.0.0.1
#  allow 63.138.0.0/255.255.0.0

# Include config files
include /etc/monit/conf.d/*